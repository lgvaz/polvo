# Explorer


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
data_dir = pv.mkdir('snacks', tmp=True, exist_ok=True, overwrite=True)
data_dir = pv.download_and_extract('https://github.com/lgvaz/polvo-datasets-hub/releases/download/snacks/snacks.zip', data_dir)
```

      0%|          | 0/438252 [00:00<?, ?B/s]

``` python
image_files = pv.get_image_files(data_dir)
```

``` python
image_file = image_files[25]
pv.open_image(image_file)
```

![](05a_classification.explorer_files/figure-commonmark/cell-4-output-1.png)

------------------------------------------------------------------------

<a
href="https://github.com/lgvaz/polvo/blob/master/polvo/classification/explorer.py#L17"
target="_blank" style="float:right; font-size:smaller">source</a>

### DataExplorer

>      DataExplorer (label_ids, idx2image, id2label, label2id)

*Initialize self. See help(type(self)) for accurate signature.*

``` python
label_ids = []
label2id = defaultdict(lambda: len(label2id))
for imgf in image_files:
    label = imgf.parent.stem
    label_ids.append(label2id[label])
    
label2id = dict(label2id)
id2label = {v: k for k, v in label2id.items()}
```

``` python
def idx2image(idx): return pv.open_image(image_files[idx])
exp = DataExplorer(label_ids, idx2image, id2label.__getitem__, label2id.__getitem__)
```

``` python
exp.most_common()
```

<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">label_id</th>
<th data-quarto-table-cell-role="th">label</th>
<th data-quarto-table-cell-role="th">item_idx</th>
<th data-quarto-table-cell-role="th">n_samples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>cake</td>
<td>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>hot-dog</td>
<td>[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</td>
<td>10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2</td>
<td>ice-cream</td>
<td>[20, 21, 22, 23, 24, 25, 26, 27, 28, 29]</td>
<td>10</td>
</tr>
</tbody>
</table>

</div>

``` python
exp.show_label_id(0, slice_=slice(3, 6))
```

![](05a_classification.explorer_files/figure-commonmark/cell-9-output-1.png)

    (<Figure size 1400x400 with 6 Axes>,
     <mpl_toolkits.axes_grid1.axes_grid.ImageGrid>)
